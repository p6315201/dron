—Ü—ñ–Ω–∞ –ª—ñ–¥–∞—Ä—É –∑–∞—Ä–∞–∑–∞ –≤ —É–∫—Ä–∞—ó–Ω—ñ 6000
https://mikronika.net/product/benewake-lidar-tf02-pro?srsltid=AfmBOopplgaCw6pXc5RinPFA9U05KqWNsWkvzrWxoPub1LURgUQXNRYN


**–æ—Å–Ω–æ–≤–Ω–∞ —Ä–æ–∑—Ä–æ–±–∫–∞ —ñ –æ—Å–Ω–æ–≤–Ω–∏–π –∫–æ–¥ –∑–∞ —à–ª—è—Ö–æ–º /master/dronv1/src
–≤—Å—ñ —Ä–µ—à—Ç—É –ø–∞–ø–æ–∫ —î –¥–æ–ø–æ–º—ñ–∂–Ω–∏–º–∏**
## –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —Å–∏—Å—Ç–µ–º–∏

1. **ESP32 –º—ñ–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä**: 
   * –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç —Å–∏—Å—Ç–µ–º–∏
   * –ö–æ–æ—Ä–¥–∏–Ω—É—î —Ä–æ–±–æ—Ç—É –≤—Å—ñ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤

2. **–õ—ñ–¥–∞—Ä TF02-Pro**: 
   * –î–∞—Ç—á–∏–∫ –≤—ñ–¥—Å—Ç–∞–Ω—ñ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –ª–∞–∑–µ—Ä–Ω–æ–≥–æ –ø—Ä–æ–º–µ–Ω—è
   * –ü—ñ–¥–∫–ª—é—á–µ–Ω–∏–π —á–µ—Ä–µ–∑ –ø—Ä–æ–≥—Ä–∞–º–Ω–∏–π UART (SoftwareSerial)
   * –ü—ñ–Ω–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è: 2 (RX) —ñ 3 (TX)

3. **–°–µ—Ä–≤–æ–ø—Ä–∏–≤—ñ–¥**: 
   * –í–∏–∫–æ–Ω–∞–≤—á–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º –¥–ª—è –∑–º—ñ–Ω–∏ –Ω–∞–ø—Ä—è–º–∫—É —Ä—É—Ö—É
   * –ü—ñ–¥–∫–ª—é—á–µ–Ω–∏–π –¥–æ –ø—ñ–Ω—É 9

4. **MSP —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: 
   * –ü—Ä–æ—Ç–æ–∫–æ–ª –∑–≤'—è–∑–∫—É –¥–ª—è —ñ–º—ñ—Ç–∞—Ü—ñ—ó –∫–æ–º–∞–Ω–¥ –ø—É–ª—å—Ç–∞ –∫–µ—Ä—É–≤–∞–Ω–Ω—è
   * –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∞–ø–∞—Ä–∞—Ç–Ω–∏–π UART –Ω–∞ –ø—ñ–Ω–∞—Ö 16 (RX) —ñ 17 (TX)

## –†–µ–∂–∏–º–∏ —Ä–æ–±–æ—Ç–∏
üì¶ –©–æ —Ä–æ–±–∏—Ç—å –∫–æ–∂–µ–Ω —Ä–µ–∂–∏–º:
üîå MODE_OFF
–°–∫–∏–¥–∞—î –≤—Å—ñ —Å–µ—Ä–≤–æ –¥–æ –Ω—É–ª—å–æ–≤–æ—ó –ø–æ–∑–∏—Ü—ñ—ó

–°–∫–∏–¥–∞—î –≤—Å—ñ –∑–º—ñ–Ω–Ω—ñ, –ø–æ–≤‚Äô—è–∑–∞–Ω—ñ –∑ –ø–µ—Ä–µ—à–∫–æ–¥–∞–º–∏

–í–∏–º–∏–∫–∞—î –≤–ø–ª–∏–≤ AUX –ø–µ—Ä–µ–º–∏–∫–∞—á–∞

ü§ñ MODE_AUTO
–õ—ñ–¥–∞—Ä –ø–æ—Å—Ç—ñ–π–Ω–æ –≤–∏–º—ñ—Ä—é—î –≤—ñ–¥—Å—Ç–∞–Ω—å

–Ø–∫—â–æ –æ–±'—î–∫—Ç –±–ª–∏–∂—á–∏–π, –Ω—ñ–∂ OBSTACLE_DISTANCE, —ñ –ø–µ—Ä–µ—à–∫–æ–¥–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–∞ (–∑ –∑–∞—Ç—Ä–∏–º–∫–æ—é), –∞–∫—Ç–∏–≤—É—î—Ç—å—Å—è –Ω–∞—Å—Ç—É–ø–Ω–∏–π —Å–µ—Ä–≤–æ

–ü—ñ—Å–ª—è —Ü—å–æ–≥–æ —á–µ–∫–∞—î –ø–µ–≤–Ω–∏–π —á–∞—Å –ø–µ—Ä–µ–¥ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é –Ω–æ–≤–æ–≥–æ —Å–ø—Ä–∞—Ü—é–≤–∞–Ω–Ω—è (2 —Å–µ–∫—É–Ω–¥–∏)

üïπ MODE_MANUAL
–°–µ—Ä–≤–æ –∞–∫—Ç–∏–≤—É—î—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—ñ AUX-–ø–µ—Ä–µ–º–∏–∫–∞—á–∞ –∑ OFF —É ON

–ö–æ–∂–Ω–µ —Å–ø—Ä–∞—Ü—é–≤–∞–Ω–Ω—è ‚Äî –∞–∫—Ç–∏–≤—É—î –Ω–∞—Å—Ç—É–ø–Ω–µ —Å–µ—Ä–≤–æ

–ú–∞–∫—Å–∏–º—É–º ‚Äî 6 –∞–∫—Ç–∏–≤–∞—Ü—ñ–π (–ø–æ —á–∏—Å–ª—É —Å–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥—ñ–≤)


## –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ –∞–ª–≥–æ—Ä–∏—Ç–º—É —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –ø–µ—Ä–µ—à–∫–æ–¥

–ê–ª–≥–æ—Ä–∏—Ç–º –≤–∫–ª—é—á–∞—î –º–µ—Ö–∞–Ω—ñ–∑–º –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –¥–ª—è –∑–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è —Ö–∏–±–Ω–∏—Ö —Å–ø—Ä–∞—Ü—å–æ–≤—É–≤–∞–Ω—å:

1. –ü—Ä–∏ –ø–µ—Ä—à–æ–º—É –≤–∏—è–≤–ª–µ–Ω–Ω—ñ –ø–µ—Ä–µ—à–∫–æ–¥–∏ (–≤—ñ–¥—Å—Ç–∞–Ω—å < `OBSTACLE_DISTANCE` = 25 –º–µ—Ç—Ä—ñ–≤), —Å–∏—Å—Ç–µ–º–∞ –∑–∞–ø–∞–º'—è—Ç–æ–≤—É—î —á–∞—Å –≤–∏—è–≤–ª–µ–Ω–Ω—è
2. –Ø–∫—â–æ –ø–µ—Ä–µ—à–∫–æ–¥–∞ —Ñ—ñ–∫—Å—É—î—Ç—å—Å—è –ø—Ä–æ—Ç—è–≥–æ–º –≤–∏–∑–Ω–∞—á–µ–Ω–æ–≥–æ —á–∞—Å—É (`OBSTACLE_CONFIRM_DELAY` = 50 –º—Å), —Å–∏—Å—Ç–µ–º–∞:
   * –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –ø–µ—Ä–µ—à–∫–æ–¥–∏
   * –ê–∫—Ç–∏–≤—É—î —Å–µ—Ä–≤–æ–ø—Ä–∏–≤—ñ–¥ –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è (–ø–æ–≤–æ—Ä–æ—Ç –Ω–∞ –∫—É—Ç `AVOID_ANGLE` = 90 –≥—Ä–∞–¥—É—Å—ñ–≤)
3. –ü—Ä–∏ –∑–Ω–∏–∫–Ω–µ–Ω–Ω—ñ –ø–µ—Ä–µ—à–∫–æ–¥–∏ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–≤–µ—Ä—Ç–∞—î —Å–µ—Ä–≤–æ–ø—Ä–∏–≤—ñ–¥ —É –ø–æ—á–∞—Ç–∫–æ–≤–µ –ø–æ–ª–æ–∂–µ–Ω–Ω—è

## –û–±—Ä–æ–±–∫–∞ –¥–∞–Ω–∏—Ö –∑ –ª—ñ–¥–∞—Ä–∞

–õ—ñ–¥–∞—Ä TF02-Pro –ø–µ—Ä–µ–¥–∞—î –¥–∞–Ω—ñ —á–µ—Ä–µ–∑ UART —É —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—ñ –∫–∞–¥—Ä—ñ–≤:
- –ü–æ—á–∞—Ç–æ–∫ –∫–∞–¥—Ä—É: –¥–≤–∞ –±–∞–π—Ç–∏-–º–∞—Ä–∫–µ—Ä–∏ (0x59, 0x59)
- –î–∞–ª—ñ –π–¥—É—Ç—å –¥–∞–Ω—ñ –ø—Ä–æ –≤—ñ–¥—Å—Ç–∞–Ω—å, —Å–∏–ª—É —Å–∏–≥–Ω–∞–ª—É —Ç–∞ —ñ–Ω—à—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏

### –§—É–Ω–∫—Ü—ñ—è `readLidarData()` —Ä–µ–∞–ª—ñ–∑—É—î:

```
1. –ü–æ—à—É–∫ –ø–æ—á–∞—Ç–∫—É –∫–∞–¥—Ä—É (–¥–≤–∞ –±–∞–π—Ç–∏ 0x59)
2. –ó–±—ñ—Ä –¥–∞–Ω–∏—Ö –∫–∞–¥—Ä—É –≤ –±—É—Ñ–µ—Ä
3. –ü–µ—Ä–µ–≤—ñ—Ä–∫—É –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ—ó —Å—É–º–∏ –¥–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö
4. –í–∏–ª—É—á–µ–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –≤—ñ–¥—Å—Ç–∞–Ω—å —Ç–∞ —Å–∏–ª—É —Å–∏–≥–Ω–∞–ª—É
```

## –î–µ—Ç–∞–ª—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó MSP

–ö–ª–∞—Å MSP —ñ–º—ñ—Ç—É—î –ø—Ä–æ—Ç–æ–∫–æ–ª Multiwii Serial Protocol:
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ –¥—Ä–æ–Ω–∞—Ö —Ç–∞ RC-–º–æ–¥–µ–ª—è—Ö
- –£ –ø–æ—Ç–æ—á–Ω—ñ–π —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Å–∏–º—É–ª—é—î –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –º—ñ–∂ —Ç—Ä—å–æ–º–∞ —Ä–µ–∂–∏–º–∞–º–∏ –∑ –ø–µ—Ä—ñ–æ–¥–æ–º 5 —Å–µ–∫—É–Ω–¥ (–¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ–π–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è)

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∞–ø–∞—Ä–∞—Ç–Ω–æ—ó —á–∞—Å—Ç–∏–Ω–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ |
|-----------|-----------|
| –ü–æ—Å–ª—ñ–¥–æ–≤–Ω–∏–π –ø–æ—Ä—Ç | 115200 –±–æ–¥ |
| –õ—ñ–¥–∞—Ä | RX=2, TX=3 |
| UART –¥–ª—è MSP | RX=16, TX=17 |
| –°–µ—Ä–≤–æ–ø—Ä–∏–≤—ñ–¥ | –ü—ñ–Ω 9 |
